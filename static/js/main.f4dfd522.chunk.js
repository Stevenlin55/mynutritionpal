(this.webpackJsonpmynutritionpal=this.webpackJsonpmynutritionpal||[]).push([[0],{132:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(21),r=n.n(a),o=(n(64),n(65),n(5)),l=n(8),i=n(6),u=(n(66),n(142)),d=n(15),b=n(52),j=n(53),m=n(7),h=n.n(m),x=new(function(){function e(){Object(b.a)(this,e),this.isAuthenticated=!1}return Object(j.a)(e,[{key:"login",value:function(e,t,n){var c=this;h.a.post("http://localhost:5000/users/login",{username:e,password:t}).then((function(e){200===e.status&&(localStorage.setItem("token",e.data._id),c.isAuthenticated=!0,n(c.isAuthenticated))})).catch((function(e){alert("Incorrect username or password")}))}},{key:"logout",value:function(e){localStorage.removeItem("token"),this.isAuthenticated=!1,e()}},{key:"register",value:function(e,t){var n=this;h.a.post("http://localhost:5000/users/register",{username:e,password:t}).then((function(e){200===e.status&&(alert("You have successfully registered! Please sign in"),n.registerSuccess=!0)})).catch((function(e){alert("Username and/or password is already taken")}))}},{key:"isAuthenticated",value:function(){return this.isAuthenticated}}]),e}()),f=n(0);var O=function(e){var t=e.user,n=Object(c.useState)(!1),s=Object(o.a)(n,2),a=s[0],r=s[1];return 0!==Object.keys(t).length?Object(f.jsx)("div",{children:Object(f.jsxs)("nav",{className:"bg-blue-600 sm:text-white",children:[Object(f.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(f.jsxs)("div",{className:"flex items-center justify-between h-16",children:[Object(f.jsxs)("div",{className:"flex items-center w-full justify-between",children:[Object(f.jsx)("div",{className:"flex-shrink-0",children:Object(f.jsx)(l.b,{className:"font-bold text-xl cursor-pointer text-white no-underline inline-flex",to:"/",children:"mynutritionpal"})}),Object(f.jsx)("div",{className:"hidden md:block",children:Object(f.jsxs)("div",{className:"ml-10 flex items-baseline space-x-4",children:[Object(f.jsx)(l.b,{className:"hover:bg-blue-700 text-white px-3 py-2 rounded-md text-md font-medium no-underline",to:"/",children:"Food Diary"}),Object(f.jsx)(l.b,{className:"hover:bg-blue-700 text-white px-3 py-2 rounded-md text-md font-medium no-underline",to:"/myfoods",children:"My Foods"}),Object(f.jsx)("button",{type:"button",className:"bg-gray-300 text-black rounded-md px-3 py-2 uppercase",onClick:function(){x.logout((function(){window.location.href="/"}))},children:"Log Out"})]})})]}),Object(f.jsx)("div",{className:"-mr-2 flex md:hidden",children:Object(f.jsx)("button",{onClick:function(){return r(!a)},type:"button",className:"bg-gray-700 inline-flex items-center justify-center p-2 rounded-md text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",children:a?Object(f.jsx)(d.e,{}):Object(f.jsx)(d.a,{})})})]})}),Object(f.jsx)(u.a,{show:a,enter:"transition ease-out duration-100 transform",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75 transform",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:function(){return Object(f.jsx)("div",{className:"md:hidden",id:"mobile-menu",children:Object(f.jsxs)("div",{className:"px-2 pb-3 space-y-1",children:[Object(f.jsx)(l.b,{className:"block  hover:bg-blue-700 text-white px-3 py-2 rounded-md text-base font-medium no-underline",to:"/",onClick:function(){return r(!a)},children:"Food Diary"}),Object(f.jsx)(l.b,{className:"block  hover:bg-blue-700 text-white px-3 py-2 rounded-md text-base font-medium no-underline",to:"/myfoods",onClick:function(){return r(!a)},children:"My Foods"}),Object(f.jsx)("button",{type:"button",className:"block  hover:bg-blue-700 w-full text-white px-3 text-left py-2 rounded-md text-base font-medium no-underline",onClick:function(){x.logout((function(){window.location.href="/"}))},children:"Log Out"})]})})}})]})}):Object(f.jsx)("div",{children:Object(f.jsxs)("nav",{className:"flex justify-between items-center bg-blue-600 p-2 text-white",children:[Object(f.jsx)("div",{className:"font-bold text-xl cursor-pointer mx-6",children:Object(f.jsx)(l.b,{className:"text-white no-underline",to:"/",children:"mynutritionpal"})}),Object(f.jsx)("ul",{className:"sm:flex flex:1 justify-end items-center text-sm uppercase gap-12 mb-0",children:Object(f.jsx)("li",{className:"cursor-pointer",children:Object(f.jsx)(l.b,{className:"text-white no-underline",to:"/login",children:Object(f.jsx)("button",{type:"button",className:"bg-gray-200 text-black rounded-md px-3 py-2 uppercase",children:"Log In"})})})})]})})},g=n(17),p=n.n(g),v=function(e){return Object(f.jsxs)("tr",{className:"bg-gray-200",children:[Object(f.jsxs)("td",{className:"border border-white group",children:[e.food.name," ",Object(f.jsx)(l.b,{to:"/edit/"+e.food._id,state:{id:e.food._id,totalProtein:e.totals.protein,totalCalories:e.totals.calories,totalObjectID:e.totals.id},children:Object(f.jsx)(d.d,{className:"inline text-gray-200 group-hover:text-blue-800 mr-5"})}),Object(f.jsx)(d.f,{onClick:function(){e.deleteFood(e.food._id,e.food.calories,e.food.protein)},className:"cursor-pointer inline text-gray-200 group-hover:text-blue-800"})]}),Object(f.jsx)("td",{className:"border border-white text-center",children:e.food.calories}),Object(f.jsx)("td",{className:"border border-white text-center",children:e.food.protein})]})};n(35),n(36);function N(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(0),l=Object(o.a)(r,2),i=l[0],u=l[1],d=Object(c.useState)(0),b=Object(o.a)(d,2),j=b[0],m=b[1];function x(t){t.preventDefault();var n=e.totalCalories+parseInt(i),c=e.totalProtein+parseInt(j),s={calories:n,protein:c};h.a.post("http://localhost:5000/totals/update/"+localStorage.getItem("totalID"),s).catch((function(e){return console.log(e)})),e.setTotals({calories:n,protein:c}),u(0),m(0),a(!1)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"smaller-text text-sm sm:text-base inline-block cursor-pointer ml-2 text-blue-600 font-semibold",onClick:function(){return a(!0)},children:"Quick Add"}),s?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(f.jsx)("div",{className:"relative w-4/5 my-6 mx-auto sm:w-auto max-w-3xl",children:Object(f.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(f.jsxs)("div",{className:"flex items-start justify-between p-4 border-b border-solid border-blueGray-200 rounded-t",children:[Object(f.jsx)("h3",{className:"text-3xl font-semibold",children:"Quick Add"}),Object(f.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return a(!1)},children:Object(f.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),Object(f.jsx)("div",{className:"relative p-6 flex-auto mx-7",children:Object(f.jsxs)("form",{className:"sm:w-80",onSubmit:function(e){return x(e)},children:[Object(f.jsxs)("div",{className:"form-group mt-2 flex justify-between items-center",children:[Object(f.jsx)("label",{className:"text-lg sm:text-xl",children:"Calories: "}),Object(f.jsx)("input",{type:"number",min:"0",className:"form-control quick-add-input",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(f.jsxs)("div",{className:"form-group mt-2 flex justify-between items-center",children:[Object(f.jsx)("label",{className:"text-lg sm:text-xl",children:"Protein: "}),Object(f.jsx)("input",{type:"number",min:"0",className:"form-control quick-add-input",value:j,onChange:function(e){return m(e.target.value)}})]})]})}),Object(f.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[Object(f.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){a(!1),u(0),m(0)},children:"Cancel"}),Object(f.jsx)("button",{className:"bg-blue-500 text-white active:bg-blue-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(e){return x(e)},children:"Add"})]})]})})}),Object(f.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null]})}var w=function(e){var t=e.food,n=e.date,a=e.user;return Object(c.useEffect)((function(){function t(e,t,n){var c=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=t.filter((function(e){var t=new Date(e.date);return new Date(t.getFullYear(),t.getMonth(),t.getDate()).toString()===c.toString()})),a={id:"",calories:0,protein:0};return s.length>0?(localStorage.setItem("totalID",s[0]._id),a.id=s[0]._id,a.calories=s[0].calories,a.protein=s[0].protein):function(e,t){var n={userID:t,calories:0,protein:0,date:e};h.a.post("http://localhost:5000/totals/add",n).then((function(e){var t=e.data._id;localStorage.setItem("totalID",t)})).catch((function(e){return console.log(e)}))}(e,n),a}h.a.get("http://localhost:5000/totals/user/"+a).then((function(c){var s=c.data,r=t(n,s,a);e.setTotals(r)})).catch((function(e){return console.log(e)}))}),[e,n,a,t]),Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{className:"text-right text-lg font-bold",children:Object(f.jsx)("div",{className:"mr-3",children:"Totals:"})}),Object(f.jsx)("td",{className:"border border-white bg-gray-200 text-center font-bold text-green-600",children:e.totalCalories}),Object(f.jsx)("td",{className:"border border-white bg-gray-200 text-center font-bold text-green-600",children:e.totalProtein})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"w-8/12"}),Object(f.jsx)("th",{className:"text-sm sm:text-base border border-white bg-blue-600 text-center text-white",children:"Calories (kcal)"}),Object(f.jsx)("th",{className:"text-sm sm:text-base border border-white bg-blue-600 text-center text-white",children:"Protein (g)"})]})]})},y=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(new Date),i=Object(o.a)(r,2),u=i[0],b=i[1],j=Object(c.useState)({id:"",calories:0,protein:0}),m=Object(o.a)(j,2),x=m[0],O=m[1],g=e.user;function y(e,t,n){h.a.delete("http://localhost:5000/foods/"+e).catch((function(e){return console.log(e)}));var c=null;h.a.get("http://localhost:5000/totals/"+localStorage.getItem("totalID")).then((function(r){(c=r.data).calories-=t,c.protein-=n,h.a.post("http://localhost:5000/totals/update/"+localStorage.getItem("totalID"),c).then((function(){var t=s.filter((function(t){return t._id!==e}));a(t)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}return Object(c.useEffect)((function(){var e=!0;return h.a.get("http://localhost:5000/foods/user/"+g).then((function(t){if(e){var n=t.data;!function(e,t,n){var c=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=t.filter((function(e){var t=new Date(e.date);return new Date(t.getFullYear(),t.getMonth(),t.getDate()).toString()===c.toString()}));a(s)}(u,n)}})).catch((function(e){return console.log(e)})),function(){e=!1,a([])}}),[u,g]),Object(f.jsxs)("div",{className:"container my-8",children:[Object(f.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center",children:[Object(f.jsx)("div",{className:"text-base",children:"Your Food Diary For:"}),Object(f.jsxs)("div",{className:"flex ml-3 datepicker-arrows",children:[Object(f.jsx)(d.b,{size:30,color:"blue",className:"cursor-pointer",id:"left-arrow",onClick:function(){return function(){var e=u,t=e.setDate(e.getDate()-1);b(new Date(t))}()}}),Object(f.jsx)(p.a,{className:"flex items-center justify-center bg-blue-600 rounded-sm mt-0.5 text-white text-base",selected:u,onChange:function(e){return b(e)},id:"date-picker",dateFormat:"EEEE, MMMM d"}),Object(f.jsx)(d.c,{size:30,color:"blue",className:"cursor-pointer",id:"right-arrow",onClick:function(){return function(){var e=u,t=e.setDate(e.getDate()+1);b(new Date(t))}()}})]})]}),Object(f.jsx)("div",{className:"mt-5",children:Object(f.jsxs)("table",{className:"mx-auto w-4/5 sm:w-3/4 border-collapse",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"w-10/12 sm:w-8/12"}),Object(f.jsx)("th",{className:"text-sm sm:text-base border border-white bg-blue-600 text-center text-white",children:"Calories (kcal)"}),Object(f.jsx)("th",{className:"text-sm sm:text-base border border-white bg-blue-600 text-center text-white",children:"Protein (g)"})]})}),Object(f.jsx)("tbody",{children:s.map((function(e){return Object(f.jsx)(v,{food:e,deleteFood:y,totals:x},e._id)}))}),Object(f.jsxs)("tbody",{children:[Object(f.jsx)("tr",{className:"spaceUnder",children:Object(f.jsxs)("td",{className:"w-5",children:[Object(f.jsx)(l.b,{className:"smaller-text text-sm sm:text-base mr-2 text-blue-600 font-semibold no-underline",to:"/add",state:{date:u},children:"Add Food"}),"  |  ",Object(f.jsx)(N,{setTotals:O,totalCalories:x.calories,totalProtein:x.protein})]})}),Object(f.jsx)(w,{food:s,date:u,user:g,setTotals:O,totalCalories:x.calories,totalProtein:x.protein})]})]})})]})},D=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(0),l=Object(o.a)(r,2),u=l[0],d=l[1],b=Object(c.useState)(0),j=Object(o.a)(b,2),m=j[0],x=j[1],O=Object(c.useState)(new Date),g=Object(o.a)(O,2),v=g[0],N=g[1],w=Object(c.useRef)(0),y=Object(c.useRef)(0),D=Object(c.useRef)(new Date),S=Object(i.g)().state,k=S.id,C=S.totalCalories,F=S.totalProtein,I=S.totalObjectID,_=e.user,P=Object(i.h)();function M(e){e.preventDefault();var t={name:s,calories:u,protein:m,date:v};h.a.post("http://localhost:5000/foods/update/"+k,t).catch((function(e){return console.log(e)})),D.current.getTime()!==v.getTime()?function(){var e={calories:C-w.current,protein:F-y.current};h.a.post("http://localhost:5000/totals/update/"+I,e).then((function(){h.a.get("http://localhost:5000/totals/user/"+_).then((function(t){var n,c=new Date(v.getFullYear(),v.getMonth(),v.getDate()),s=t.data.filter((function(e){var t=new Date(e.date);return new Date(t.getFullYear(),t.getMonth(),t.getDate()).toString()===c.toString()}));0===s.length?(e={userID:_,calories:u,protein:m,date:v},h.a.post("http://localhost:5000/totals/add",e).then((function(){return P(-1)})).catch((function(e){return console.log(e)}))):(e={calories:s[0].calories,protein:s[0].protein},n=s[0]._id,e.calories+=parseInt(u,10),e.protein+=parseInt(m,10),h.a.post("http://localhost:5000/totals/update/"+n,e).then((function(){P(-1)})).catch((function(e){return console.log(e)})))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}():function(){var e=parseInt(u,10)-w.current,t=parseInt(m,10)-y.current,n={calories:C+e,protein:F+t};h.a.post("http://localhost:5000/totals/update/"+I,n).then((function(){P(-1)})).catch((function(e){return console.log(e)}))}()}return Object(c.useEffect)((function(){h.a.get("http://localhost:5000/foods/"+k).then((function(e){a(e.data.name),d(e.data.calories),x(e.data.protein),N(new Date(e.data.date)),w.current=e.data.calories,y.current=e.data.protein,D.current=new Date(e.data.date)}))}),[k]),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h3",{className:"mt-4",children:"Edit Food"}),Object(f.jsxs)("form",{onSubmit:function(e){return M(e)},children:[Object(f.jsxs)("div",{className:"form-group mt-4",children:[Object(f.jsx)("label",{children:"Name: "}),Object(f.jsx)("input",{type:"text",required:!0,className:"form-control",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(f.jsxs)("div",{className:"form-group mt-2",children:[Object(f.jsx)("label",{children:"Calories: "}),Object(f.jsx)("input",{type:"number",min:"0",className:"form-control",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(f.jsxs)("div",{className:"form-group mt-2",children:[Object(f.jsx)("label",{children:"Protein: "}),Object(f.jsx)("input",{type:"number",min:"0",className:"form-control",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(f.jsxs)("div",{className:"form-group mt-2",children:[Object(f.jsx)("label",{children:"Date: "}),Object(f.jsx)("div",{children:Object(f.jsx)(p.a,{className:"mb-4 border-4",selected:v,onChange:function(e){return N(e)}})})]}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)("input",{type:"submit",value:"Edit Food",className:"btn btn-primary"})})]})]})},S=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(0),l=Object(o.a)(r,2),u=l[0],d=l[1],b=Object(c.useState)(0),j=Object(o.a)(b,2),m=j[0],x=j[1],O=Object(c.useState)(new Date),g=Object(o.a)(O,2),v=g[0],N=g[1],w=Object(i.g)().state,y=Object(i.h)();Object(c.useEffect)((function(){w&&N(w.date)}),[w]);var D=e.user;return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h3",{className:"mt-4",children:"Add Food"}),Object(f.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t={userID:D,name:s,calories:u,protein:m,date:v};h.a.post("http://localhost:5000/foods/add",t).catch((function(e){return console.log(e)}));var n=null;h.a.get("http://localhost:5000/totals/user/"+D).then((function(e){var c,s=new Date(v.getFullYear(),v.getMonth(),v.getDate()),a=e.data.filter((function(e){var t=new Date(e.date);return new Date(t.getFullYear(),t.getMonth(),t.getDate()).toString()===s.toString()}));0===a.length?(n={userID:D,calories:t.calories,protein:t.protein,date:v},h.a.post("http://localhost:5000/totals/add",n).then((function(){return y(-1)})).catch((function(e){return console.log(e)}))):(n={calories:a[0].calories,protein:a[0].protein},c=a[0]._id,n.calories+=parseInt(t.calories,10),n.protein+=parseInt(t.protein,10),h.a.post("http://localhost:5000/totals/update/"+c,n).then((function(){y(-1)})).catch((function(e){return console.log(e)})))})).catch((function(e){return console.log(e)}))}(e)},children:[Object(f.jsxs)("div",{className:"form-group mt-4",children:[Object(f.jsx)("label",{children:"Name: "}),Object(f.jsx)("input",{type:"text",required:!0,className:"form-control",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(f.jsxs)("div",{className:"form-group mt-2",children:[Object(f.jsx)("label",{children:"Calories: "}),Object(f.jsx)("input",{type:"number",min:"0",className:"form-control",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(f.jsxs)("div",{className:"form-group mt-2",children:[Object(f.jsx)("label",{children:"Protein: "}),Object(f.jsx)("input",{type:"number",min:"0",className:"form-control",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(f.jsxs)("div",{className:"form-group mt-2",children:[Object(f.jsx)("label",{children:"Date: "}),Object(f.jsx)("div",{children:Object(f.jsx)(p.a,{className:"mb-4 border-4",selected:v,onChange:function(e){return N(e)}})})]}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)("input",{type:"submit",value:"Add Food",className:"btn btn-primary"})})]})]})},k=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(o.a)(a,2),i=r[0],u=r[1];return Object(f.jsx)("div",{children:Object(f.jsx)("div",{id:"login_register_bar",children:Object(f.jsx)("div",{className:"container d-flex justify-content-evenly",children:Object(f.jsxs)("div",{className:"login w-50 mt-5",children:[Object(f.jsx)("h2",{children:"Login"}),Object(f.jsxs)("form",{className:"mt-3",onSubmit:function(e){e.preventDefault(),x.login(n,i,(function(e){e&&(window.location.href="/")}))},children:[Object(f.jsxs)("div",{className:"form-floating mt-2",children:[Object(f.jsx)("input",{className:"form-control mb-3",type:"text",required:!0,id:"username_login",placeholder:"Username",onChange:function(e){return s(e.target.value)}}),Object(f.jsx)("label",{htmlFor:"username_login",children:"Username"})]}),Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{className:"form-control mb-3",type:"password",required:!0,id:"password_login",placeholder:"password",onChange:function(e){return u(e.target.value)}}),Object(f.jsx)("label",{htmlFor:"password_login",children:"Password"})]}),Object(f.jsx)("button",{id:"login_btn",type:"submit",className:"w-100 btn btn-lg btn-primary",children:"Login"})]}),Object(f.jsx)("div",{className:"mt-3",children:Object(f.jsxs)("p",{children:["Don't have an account? ",Object(f.jsx)(l.b,{to:"/register",children:"Register"})]})})]})})})})},C=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(o.a)(a,2),i=r[0],u=r[1];return Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"container d-flex justify-content-evenly",children:Object(f.jsxs)("div",{className:"login w-50 mt-5",children:[Object(f.jsx)("h2",{children:"Register"}),Object(f.jsxs)("form",{className:"mt-3",onSubmit:function(e){e.preventDefault(),x.register(n,i)},children:[Object(f.jsxs)("div",{className:"form-floating mt-2",children:[Object(f.jsx)("input",{className:"form-control mb-3",type:"text",required:!0,placeholder:"Username",onChange:function(e){return s(e.target.value)}}),Object(f.jsx)("label",{htmlFor:"username_login",children:"Username"})]}),Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{className:"form-control mb-3",type:"password",required:!0,placeholder:"password",onChange:function(e){return u(e.target.value)}}),Object(f.jsx)("label",{htmlFor:"password_login",children:"Password"})]}),Object(f.jsx)("button",{type:"submit",className:"w-100 btn btn-lg btn-primary",children:"Register"})]}),Object(f.jsx)("div",{className:"mt-3",children:Object(f.jsxs)("p",{className:"text-sm sm:text-base",children:["Already have an account? ",Object(f.jsx)(l.b,{to:"/login",children:"Sign in"})]})})]})})})},F=n(56),I=n(57),_=function(e){e.component;var t=e.user,n=Object(I.a)(e,["component","user"]);return 0!==Object.keys(t).length?Object(f.jsx)(i.b,Object(F.a)({},n)):Object(f.jsx)(i.a,{to:"/login"})},P=(n(132),function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(""),i=Object(o.a)(r,2),u=i[0],d=i[1],b=Object(c.useState)(0),j=Object(o.a)(b,2),m=j[0],x=j[1],O=Object(c.useState)(0),g=Object(o.a)(O,2),p=g[0],v=g[1],N=Object(c.useState)(""),w=Object(o.a)(N,2),y=w[0],D=w[1],S=Object(c.useState)(""),k=Object(o.a)(S,2),C=k[0],F=k[1],I=Object(c.useState)([]),_=Object(o.a)(I,2),P=_[0],M=_[1],A=Object(c.useState)({id:"",calories:0,protein:0}),E=Object(o.a)(A,2),Y=E[0],T=E[1],q=e.user;function L(e){if(""!==e){document.getElementById("nutrition-facts-buttons").style.display="flex";var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()}}return Object(c.useEffect)((function(){var e=!0;return h.a.get("http://localhost:5000/foods/user/"+q).then((function(t){e&&a(t.data)})).catch((function(e){return console.log(e)})),h.a.get("http://localhost:5000/totals/user/"+q).then((function(t){e&&M(t.data)})).catch((function(e){return console.log(e)})),function(){e=!1,a([])}}),[q]),Object(f.jsxs)("div",{className:"w-5/6 sm:w-3/5 m-auto h-72",children:[Object(f.jsxs)("div",{className:"header flex justify-between mt-7 border-b",children:[Object(f.jsx)("h4",{className:"text-blue-800 text-lg sm:text-xl",children:"Your Personal Foods"}),Object(f.jsx)(l.b,{to:"/add",children:Object(f.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white text-sm sm:text-base py-1 px-2 rounded mb-2",children:"Add Food"})})]}),Object(f.jsxs)("div",{className:"flex flex-col sm:flex-row mt-5 sm:h-full sm:justify-between",children:[Object(f.jsx)("div",{className:"foods-div border-2 border-gray-500 w-full max-h-48 sm:w-6/12 sm:h-full sm:max-h-full overflow-y-scroll",children:s.map((function(e){return Object(f.jsx)("div",{className:"food-div",tabIndex:"0",onClick:function(){return function(e,t,n,c,s){F(e),d(t),x(n),v(c),D(s),function(e){var t=new Date(e),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),c=P.filter((function(e){var t=new Date(e.date);return new Date(t.getFullYear(),t.getMonth(),t.getDate()).toString()===n.toString()}));T({id:c[0]._id,calories:c[0].calories,protein:c[0].protein})}(s)}(e._id,e.name,e.calories,e.protein,e.date)},children:e.name},e._id)}))}),Object(f.jsxs)("div",{className:"nutrition-facts sm:w-5/12",children:[Object(f.jsxs)("div",{className:"nutrition-facts-header flex flex-col lg:flex-row sm:justify-between items-center mb-3",children:[Object(f.jsx)("h5",{className:"text-base sm:text-lg nutrition-facts-text",children:"Nutrition Facts"}),Object(f.jsxs)("div",{className:"flex justify-between w-full md:w-28 lg:w-32 2xl:w-32",id:"nutrition-facts-buttons",children:[Object(f.jsx)(l.b,{to:"/edit/"+C,state:{id:C,totalProtein:Y.protein,totalCalories:Y.calories,totalObjectID:Y.id},children:Object(f.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white py-0.5 px-2 text-sm sm:text-base rounded border-transparent border-1",children:"Edit"})}),Object(f.jsx)("button",{className:"bg-gray-100 hover:bg-gray-200  border-black border-1 py-0.5 px-2 text-sm sm:text-base rounded",onClick:function(){return function(){h.a.delete("http://localhost:5000/foods/"+C).catch((function(e){return console.log(e)}));var e=null;h.a.get("http://localhost:5000/totals/"+Y.id).then((function(t){(e=t.data).calories-=m,e.protein-=p,h.a.post("http://localhost:5000/totals/update/"+Y.id,e).then((function(){var e=s.filter((function(e){return e._id!==C}));a(e),d(""),x(0),v(0),D("")})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}()},children:"Delete"})]})]}),Object(f.jsxs)("div",{className:"nutrition-facts-body",children:[Object(f.jsxs)("div",{className:"flex overflow",children:[Object(f.jsx)("p",{className:"font-semibold mr-2",children:"Name:"}),Object(f.jsx)("p",{children:u})]}),Object(f.jsxs)("p",{children:["Calories: ",m]}),Object(f.jsxs)("p",{children:["Protein: ",p," g"]}),Object(f.jsxs)("p",{children:["Date Added: ",L(y)]})]})]})]})]})});function M(){var e=Object(c.useState)({}),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!0),r=Object(o.a)(a,2),u=r[0],d=r[1];return Object(c.useEffect)((function(){localStorage.getItem("token")&&s(localStorage.getItem("token")),d(!1)}),[]),u?Object(f.jsx)("div",{id:"loading-page",children:Object(f.jsx)("div",{className:"spinner-border text-primary",id:"spinner",role:"status",children:Object(f.jsx)("span",{className:"sr-only"})})}):Object(f.jsx)("div",{children:Object(f.jsx)(l.a,{children:Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)(O,{user:n}),Object(f.jsxs)(i.e,{children:[Object(f.jsxs)(i.c,{path:"/",element:Object(f.jsx)(_,{user:n}),children:[Object(f.jsx)(i.c,{path:"/",element:Object(f.jsx)(y,{user:n})}),Object(f.jsx)(i.c,{path:"/edit/:id",element:Object(f.jsx)(D,{user:n})}),Object(f.jsx)(i.c,{path:"/add",element:Object(f.jsx)(S,{user:n})}),Object(f.jsx)(i.c,{path:"/myfoods",element:Object(f.jsx)(P,{user:n})})]}),Object(f.jsx)(i.c,{path:"/register",element:Object(f.jsx)(C,{})}),Object(f.jsx)(i.c,{path:"/login",element:Object(f.jsx)(k,{})})]})]})})})}var A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(M,{})}),document.getElementById("root")),A()},36:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.f4dfd522.chunk.js.map